SUBJECT FOR FILTER 
42 BARCELONA

Allowed functions:
Read, write, strlen, memmem, memmove, malloc, calloc, realloc, free, printf, fprintf, stdout, stderr, perror.

Write a program that will take one and only one argument s.

Your program will then read from stdin and write all the content read in stdout except that every ocurrence of s must be replaced by '*' (as many as the lenght of s). Your program will be tested with random buffer sizes, using a custom read function. Therefore the buffer being set in your program will be filled with a different number of chars each new call.

For example:
./filter hello
will behave in the same way as:
sed 's/hello/*****/g'

./filter abc
sed 's/abc/***/g'

More generally your program must be equivalent of the shell script filter.sh present in this directory.

In case of error during a read or a malloc, you must write "Error: " followed by the error message in stderr and return 1.

If the program is called without arguments or with an empty argument or with multiple arguments, it must return.
